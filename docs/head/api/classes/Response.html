<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Response - RoboHydra public API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
          <span class="navbar-brand"><img src="../assets/img/robohydra.png" title="RoboHydra public API"> RoboHydra</span>
          <ul class="navbar-menu">
            <li><a href="/">Home</a></span>
            <li><a href="/docs/tutorial">Tutorial</a></span>
            <li><a href="/docs">Documentation</a></span>
          </ul>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: HEAD</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Request.html">Request</a></li>
            
                <li><a href="../classes/Response.html">Response</a></li>
            
                <li><a href="../classes/robohydra.html">robohydra</a></li>
            
                <li><a href="../classes/RoboHydra.html">RoboHydra</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Response Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/.._robohydra_lib_utils.js.html#l324"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:324</code></a>
        </div>
    

    

    
</div>



<div class="box intro">
    <p>Represents a server response.</p>

</div>


    <div class="constructor">
        <h2>Constructor</h2>
        <div id="method_Response" class="method item">
    <h3 class="name"><code>Response</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cb</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l324"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:324</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cb</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>Callback to be used when the response is
finished. See the <code>end</code> event on the <code>on</code> method documentation.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

    </div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
            <li class="api-class-tab attrs"><a href="#attrs">Attributes</a></li>
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method deprecated">
                                <a href="#method_chain">chain</a>

                                
                                
                                    <span class="flag deprecated">deprecated</span>
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_copyFrom">copyFrom</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_end">end</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_follow">follow</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_forward">forward</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_on">on</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_send">send</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_write">write</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_writeHead">writeHead</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
                <div class="index-section attrs">
                    <h3>Attributes</h3>

                    <ul class="index-list attrs">
                        
                            <li class="index-item attr">
                                <a href="#attr_body">body</a>
                            </li>
                        
                            <li class="index-item attr">
                                <a href="#attr_ended">ended</a>
                            </li>
                        
                            <li class="index-item attr">
                                <a href="#attr_headers">headers</a>
                            </li>
                        
                            <li class="index-item attr">
                                <a href="#attr_statusCode">statusCode</a>
                            </li>
                        
                    </ul>
                </div>
            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_chain" class="method item deprecated">
    <h3 class="name"><code>chain</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>response</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    
        <span class="flag deprecated">deprecated</span>
    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l548"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:548</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Chains the response given as a parameter to the current
object. This means that as data is written to the current
object, that same data will be written in the parameter (ie. it
honours and replicates streaming). It&#39;s similar to <code>copyFrom</code>,
but with the following differences:</p>
<ul>
<li><code>chain</code> is called on the source object, not the target.</li>
<li><code>chain</code> is to be used <em>before</em> any data is written to the
source object.</li>
<li><code>chain</code> will write data as it&#39;s received, instead of
everything at once.</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">response</code>
                        <span class="type"><a href="../classes/Response.html" class="crosslink">Response</a></span>
                    

                    

                    <div class="param-description">
                        <p>Response object to chain to the
current object.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_copyFrom" class="method item">
    <h3 class="name"><code>copyFrom</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>res</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l454"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:454</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Copies the response given as a parameter into the current
response object. This is intended to be used when the response
given as a parameter is already finished.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">res</code>
                        <span class="type"><a href="../classes/Response.html" class="crosslink">Response</a></span>
                    

                    

                    <div class="param-description">
                        <p>Response object to copy.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_end" class="method item">
    <h3 class="name"><code>end</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l432"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:432</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Marks the response as complete and calls the &#39;end&#39;
callback. When called in the response object provided by
RoboHydra, this closes the connection.</p>

    </div>

    

    

    
</div>

                
                    <div id="method_follow" class="method item">
    <h3 class="name"><code>follow</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>response</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l521"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:521</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Follows the given response: as data is written to the given
response object, that same data will be written in the calling
object (ie. it honours and replicates streaming). It&#39;s similar
to <code>copyFrom</code>, but with the following differences:</p>
<ul>
<li><code>follow</code> is to be used <em>before</em> any data is written to the
source object (ie. the parameter).</li>
<li><code>follow</code> will write data as it is received, instead of
everything at once.</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">response</code>
                        <span class="type"><a href="../classes/Response.html" class="crosslink">Response</a></span>
                    

                    

                    <div class="param-description">
                        <p>Response object to follow.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_forward" class="method item">
    <h3 class="name"><code>forward</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>res</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l468"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:468</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Forwards the response given as a parameter. That is, copies the
given response in the current object, then marks the given
object as finished.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">res</code>
                        <span class="type"><a href="../classes/Response.html" class="crosslink">Response</a></span>
                    

                    

                    <div class="param-description">
                        <p>The response object to forward.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_on" class="method item">
    <h3 class="name"><code>on</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>eventName</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>cb</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l480"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:480</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Adds a callback to the given event. An event can have more than
one callback. All callbacks for an event will be called in
order when the event is triggered.</p>
<p>The callback function will receive a single parameter, <code>event</code>,
an object with the property <code>type</code> set to the event type, plus
different properties according to the event fired. It returns
the response object.</p>
<p>The list of response object events is:</p>
<ul>
<li><code>head</code>: Fired when the header is written. Event objects for
this event contain two properties, <code>statusCode</code> and
<code>headers</code>.</li>
<li><code>data</code>: Fired when there is data written in the response
object. Event objects for this event contain a single property,
<code>data</code>, an instance of <code>Buffer</code>.</li>
<li><code>end</code>: Fired when the response is finished. Event objects for
this event contain a single property, <code>response</code>, the response
object that fired the event.</li>
</ul>
<p>For responses you have created yourself to pass to the <code>next</code>
function, the <code>end</code> event would typically be used to inspect or
modify the response contents, then write data to the response
object you received, possibly with the help of the methods
below.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">eventName</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>The name of the event to attach the
callback to. Possible event names are <code>head</code>, <code>data</code> and <code>end</code>.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">cb</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>The callback to attach to the given event.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_send" class="method item">
    <h3 class="name"><code>send</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l421"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:421</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Appends the given data to the response body and closes
it. Equivalent to calling the <code>write</code> method, then <code>end</code>.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Buffer</span>
                    

                    

                    <div class="param-description">
                        <p>to add to the response body.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_write" class="method item">
    <h3 class="name"><code>write</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>chunk</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l393"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:393</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Appends data to the response body. This method allows a
RoboHydra head to write the response body in chunks, and the
response will be sent in chunks to the client (so you could,
say, send data, then wait, then send more data, wait, then
close the connection).</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">chunk</code>
                        <span class="type">Buffer</span>
                    

                    

                    <div class="param-description">
                        <p>Data to add to the current response
body. This parameter can be a string, too.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_writeHead" class="method item">
    <h3 class="name"><code>writeHead</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>statusCode</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>headers</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l378"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:378</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Sets and writes the response headers.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">statusCode</code>
                        <span class="type">Integer</span>
                    

                    

                    <div class="param-description">
                        <p>The response&#39;s status code.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">headers</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>The response&#39;s headers.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
            </div>
        

        

        
            <div id="attrs" class="api-class-tabpanel">
                <h2 class="off-left">Attributes</h2>

                
                    <div id="attr_body" class="attr item">
    <a name="config_body"></a> 
    <h3 class="name"><code>body</code></h3>
    <span class="type">Buffer</span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l331"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:331</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Response body.</p>

    </div>

    

    

    
</div>

                
                    <div id="attr_ended" class="attr item">
    <a name="config_ended"></a> 
    <h3 class="name"><code>ended</code></h3>
    <span class="type">Boolean</span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l350"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:350</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Whether the response is finished.</p>

    </div>

    

    

    
</div>

                
                    <div id="attr_headers" class="attr item">
    <a name="config_headers"></a> 
    <h3 class="name"><code>headers</code></h3>
    <span class="type">Object</span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l343"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:343</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Response headers. Note that the header names are Node-style
(ie. lowercase).</p>

    </div>

    

    

    
</div>

                
                    <div id="attr_statusCode" class="attr item">
    <a name="config_statusCode"></a> 
    <h3 class="name"><code>statusCode</code></h3>
    <span class="type">Integer</span>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/.._robohydra_lib_utils.js.html#l337"><code>..&#x2F;robohydra&#x2F;lib&#x2F;utils.js:337</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Response status code (by default, <code>200</code>).</p>

    </div>

    

    

    
</div>

                
            </div>
        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
